import React from "react";
import Image from "next/image";

const object = {
  Headline:
    "US Home Prices Fall for the Seventh Straight Month Amid Higher Mortgage Rates",
  Sub_Headline:
    "The Federal Reserve's Inflation-Fighting Measures Continue to Impact Consumers and the Housing Market",
  Article:
    "According to the S&P CoreLogic Case-Shiller index, US home prices fell 0.6% nationally from December to January, marking the seventh consecutive monthly decline. The index also showed that prices are up just 3.8% annually. The 10-city composite climbed 2.5% annually, down from 4.4% in December, while the 20-city composite increased 2.5% in January, following a gain of 4.6% the previous month. The housing market has been impacted by higher mortgage rates, which have dampened consumer demand and brought down home prices for the past few months. The Federal Reserve has already lifted the benchmark federal funds rate nine consecutive times and may increase it a tenth time at their May meeting to alleviate signs of underlying inflationary pressures within the economy. Despite the slowdown in the housing market, the Federal Reserve remains focused on its inflation-reduction targets, which suggest that rates may stay elevated for a while. This will likely continue to put downward pressure on housing prices in the coming months. Home prices fell again in January and are now barely higher than they were a year ago. This slowdown in home prices coincides with the fall and winter months, where higher-interest rates have brought buyers and sellers to terms with a new reality in the housing market. The median price of a sold, existing home in February was $363,000, down slightly from the previous year. These developments are yet more proof of the doldrums the housing market has been stuck in during the recent months. The Case-Shiller index momentarily presents a different picture of the housing market, but higher mortgage rates continue to impact consumers and the housing market at large. The Federal Reserve and other policymakers are working hard to manage inflation in the economy, but the housing market remains a source of concern for many consumers and businesses alike.",
  images: [
    {
      image:
        "https://static.foxbusiness.com/foxbusiness.com/content/uploads/2023/02/12-wildcat-ave-evesham-twp.jpg",
      alt: "National Association of Home Builders CEO Jerry Howard surveys the state of the housing market as the U.S. economy continues to grapple with inflation on ‘Varney & Co.’",
    },
    {
      image:
        "https://a57.foxnews.com/static.foxbusiness.com/foxbusiness.com/content/uploads/2023/02/931/523/12-wildcat-ave-evesham-twp.jpg?ve=1&tl=1",
      alt: "Open house at a home for sale",
    },
    {
      image:
        "https://a57.foxnews.com/static.foxbusiness.com/foxbusiness.com/content/uploads/2023/03/931/523/housing-7.jpg?ve=1&tl=1",
      alt: "Neighborhood in Austin, Texas",
    },
  ],
  category: "Business",
  subCategory: "Economy",
  dateTime: "2021-03-31T15:00:00.000Z",
};

const ObjectsArray = [
  {
    Headline:
      "US Home Prices Fall for the Seventh Straight Month Amid Higher Mortgage Rates",
    Sub_Headline:
      "The Federal Reserve's Inflation-Fighting Measures Continue to Impact Consumers and the Housing Market",
    Article:
      "According to the S&P CoreLogic Case-Shiller index, US home prices fell 0.6% nationally from December to January, marking the seventh consecutive monthly decline. The index also showed that prices are up just 3.8% annually. The 10-city composite climbed 2.5% annually, down from 4.4% in December, while the 20-city composite increased 2.5% in January, following a gain of 4.6% the previous month. The housing market has been impacted by higher mortgage rates, which have dampened consumer demand and brought down home prices for the past few months. The Federal Reserve has already lifted the benchmark federal funds rate nine consecutive times and may increase it a tenth time at their May meeting to alleviate signs of underlying inflationary pressures within the economy. Despite the slowdown in the housing market, the Federal Reserve remains focused on its inflation-reduction targets, which suggest that rates may stay elevated for a while. This will likely continue to put downward pressure on housing prices in the coming months. Home prices fell again in January and are now barely higher than they were a year ago. This slowdown in home prices coincides with the fall and winter months, where higher-interest rates have brought buyers and sellers to terms with a new reality in the housing market. The median price of a sold, existing home in February was $363,000, down slightly from the previous year. These developments are yet more proof of the doldrums the housing market has been stuck in during the recent months. The Case-Shiller index momentarily presents a different picture of the housing market, but higher mortgage rates continue to impact consumers and the housing market at large. The Federal Reserve and other policymakers are working hard to manage inflation in the economy, but the housing market remains a source of concern for many consumers and businesses alike.",
    images: [
      {
        image:
          "https://static.foxbusiness.com/foxbusiness.com/content/uploads/2023/02/12-wildcat-ave-evesham-twp.jpg",
        alt: "National Association of Home Builders CEO Jerry Howard surveys the state of the housing market as the U.S. economy continues to grapple with inflation on ‘Varney & Co.’",
      },
      {
        image:
          "https://a57.foxnews.com/static.foxbusiness.com/foxbusiness.com/content/uploads/2023/02/931/523/12-wildcat-ave-evesham-twp.jpg?ve=1&tl=1",
        alt: "Open house at a home for sale",
      },
      {
        image:
          "https://a57.foxnews.com/static.foxbusiness.com/foxbusiness.com/content/uploads/2023/03/931/523/housing-7.jpg?ve=1&tl=1",
        alt: "Neighborhood in Austin, Texas",
      },
    ],
    category: "Business",
    subCategory: "Economy",
    dateTime: "2021-03-31T15:00:00.000Z",
  },
  {
    Headline:
      "US Home Prices Fall for the Seventh Straight Month Amid Higher Mortgage Rates",
    Sub_Headline:
      "The Federal Reserve's Inflation-Fighting Measures Continue to Impact Consumers and the Housing Market",
    Article:
      "According to the S&P CoreLogic Case-Shiller index, US home prices fell 0.6% nationally from December to January, marking the seventh consecutive monthly decline. The index also showed that prices are up just 3.8% annually. The 10-city composite climbed 2.5% annually, down from 4.4% in December, while the 20-city composite increased 2.5% in January, following a gain of 4.6% the previous month. The housing market has been impacted by higher mortgage rates, which have dampened consumer demand and brought down home prices for the past few months. The Federal Reserve has already lifted the benchmark federal funds rate nine consecutive times and may increase it a tenth time at their May meeting to alleviate signs of underlying inflationary pressures within the economy. Despite the slowdown in the housing market, the Federal Reserve remains focused on its inflation-reduction targets, which suggest that rates may stay elevated for a while. This will likely continue to put downward pressure on housing prices in the coming months. Home prices fell again in January and are now barely higher than they were a year ago. This slowdown in home prices coincides with the fall and winter months, where higher-interest rates have brought buyers and sellers to terms with a new reality in the housing market. The median price of a sold, existing home in February was $363,000, down slightly from the previous year. These developments are yet more proof of the doldrums the housing market has been stuck in during the recent months. The Case-Shiller index momentarily presents a different picture of the housing market, but higher mortgage rates continue to impact consumers and the housing market at large. The Federal Reserve and other policymakers are working hard to manage inflation in the economy, but the housing market remains a source of concern for many consumers and businesses alike.",
    images: [
      {
        image:
          "https://static.foxbusiness.com/foxbusiness.com/content/uploads/2023/02/12-wildcat-ave-evesham-twp.jpg",
        alt: "National Association of Home Builders CEO Jerry Howard surveys the state of the housing market as the U.S. economy continues to grapple with inflation on ‘Varney & Co.’",
      },
      {
        image:
          "https://a57.foxnews.com/static.foxbusiness.com/foxbusiness.com/content/uploads/2023/02/931/523/12-wildcat-ave-evesham-twp.jpg?ve=1&tl=1",
        alt: "Open house at a home for sale",
      },
      {
        image:
          "https://a57.foxnews.com/static.foxbusiness.com/foxbusiness.com/content/uploads/2023/03/931/523/housing-7.jpg?ve=1&tl=1",
        alt: "Neighborhood in Austin, Texas",
      },
    ],
    category: "Business",
    subCategory: "Economy",
    dateTime: "2021-03-31T15:00:00.000Z",
  },
  {
    Headline:
      "US Home Prices Fall for the Seventh Straight Month Amid Higher Mortgage Rates",
    Sub_Headline:
      "The Federal Reserve's Inflation-Fighting Measures Continue to Impact Consumers and the Housing Market",
    Article:
      "According to the S&P CoreLogic Case-Shiller index, US home prices fell 0.6% nationally from December to January, marking the seventh consecutive monthly decline. The index also showed that prices are up just 3.8% annually. The 10-city composite climbed 2.5% annually, down from 4.4% in December, while the 20-city composite increased 2.5% in January, following a gain of 4.6% the previous month. The housing market has been impacted by higher mortgage rates, which have dampened consumer demand and brought down home prices for the past few months. The Federal Reserve has already lifted the benchmark federal funds rate nine consecutive times and may increase it a tenth time at their May meeting to alleviate signs of underlying inflationary pressures within the economy. Despite the slowdown in the housing market, the Federal Reserve remains focused on its inflation-reduction targets, which suggest that rates may stay elevated for a while. This will likely continue to put downward pressure on housing prices in the coming months. Home prices fell again in January and are now barely higher than they were a year ago. This slowdown in home prices coincides with the fall and winter months, where higher-interest rates have brought buyers and sellers to terms with a new reality in the housing market. The median price of a sold, existing home in February was $363,000, down slightly from the previous year. These developments are yet more proof of the doldrums the housing market has been stuck in during the recent months. The Case-Shiller index momentarily presents a different picture of the housing market, but higher mortgage rates continue to impact consumers and the housing market at large. The Federal Reserve and other policymakers are working hard to manage inflation in the economy, but the housing market remains a source of concern for many consumers and businesses alike.",
    images: [
      {
        image:
          "https://static.foxbusiness.com/foxbusiness.com/content/uploads/2023/02/12-wildcat-ave-evesham-twp.jpg",
        alt: "National Association of Home Builders CEO Jerry Howard surveys the state of the housing market as the U.S. economy continues to grapple with inflation on ‘Varney & Co.’",
      },
      {
        image:
          "https://a57.foxnews.com/static.foxbusiness.com/foxbusiness.com/content/uploads/2023/02/931/523/12-wildcat-ave-evesham-twp.jpg?ve=1&tl=1",
        alt: "Open house at a home for sale",
      },
      {
        image:
          "https://a57.foxnews.com/static.foxbusiness.com/foxbusiness.com/content/uploads/2023/03/931/523/housing-7.jpg?ve=1&tl=1",
        alt: "Neighborhood in Austin, Texas",
      },
    ],
    category: "Business",
    subCategory: "Economy",
    dateTime: "2021-03-31T15:00:00.000Z",
  },
];

const mappingRelatedArticles = () => {
  return ObjectsArray.map((object, index) => (
    <div key={index} className="py-16">
      <div className="relative w-[100%] h-[200px] py-16">
        <Image fill src={object.images[0].image} alt={object.images[0].alt} />
      </div>
      <h7 className="font-antic text-primary uppercase">{object.Headline}</h7>
      <div className="flex justify-between pt-8">
        <h8 className="uppercase text-h8">{object.dateTime}</h8>
        <h8 className="text-secondary uppercase text-h8 font-bold">
          {object.subCategory}
        </h8>
      </div>
    </div>
  ));
};

const splitSentences = (string) => {
  const regex = /(?<=\w[.!?])\s(?=[A-Z])/g;
  return string.split(regex);
};

export default function Article() {
  const sentences = splitSentences(object.Article);
  const numSentences = sentences.length;
  const numImages = object.images.length - 1;
  const sentencesPerImage = Math.floor(numSentences / numImages);

  const mappingContent = () =>
    sentences.map((sentence, index) => {
      const shouldDisplayImage =
        (index > 0 && (index + 1) % sentencesPerImage === 0) || index === 0;
      const imageIndex = Math.min(
        Math.floor((index + 1) / sentencesPerImage),
        numImages
      );

      return (
        <React.Fragment key={index}>
          {shouldDisplayImage && (
            <div className="display flex flex-col">
              <div className="h-[550px] relative">
                <Image
                  className="align-middle h-auto"
                  fill
                  src={object.images[imageIndex].image}
                  alt={object.images[imageIndex].alt}
                />
              </div>
            </div>
          )}
          <h6 className="text-black text-left py-16">{sentence}</h6>
        </React.Fragment>
      );
    });

  return (
    <main className="bg-black-5 px-64 py-32">
      <div className="items-center align-middle flex justify-center gap-8 pb-8">
        <h7 className="font-bold text-primary uppercase">
          {object.subCategory}
        </h7>
        <div className="rounded-full bg-black-25 w-[4px] h-[4px]"></div>
        <h7>
          <span className="font-bold uppercase">published: </span>{" "}
          {object.dateTime}
        </h7>
      </div>
      <h1 className="px-128 text-black font-antic uppercase text-center font-bold pb-16">
        {object.Headline}
      </h1>
      <h5 className="px-256 pb-16 text-black text-center">
        {object.Sub_Headline}
      </h5>
      <div className="flex border-y-black-10 border-y-2 py-16 gap-16">
        <div className="w-3/4">{mappingContent()}</div>
        <div className="border-l-2 border-black-10 pl-8 w-1/4">
          <div className="bg-secondary h-[550px] w-[100%] text-center flex justify-center items-center">
            <h3>Add container</h3>
          </div>

          <div className="py-16 sticky top-0">
            <h6 className="text-black-5 bg-primary  font-antic text-left p-8 uppercase">
              Related Articles
            </h6>
            {mappingRelatedArticles()}
          </div>
        </div>
      </div>
    </main>
  );
}
